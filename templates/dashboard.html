{% extends "base.html" %}

{% block content %}
<div class="container mt-4 otto-dashboard">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="cyber-title">PANEL_DE_CONTROL // VENTAS</h3>
        <span class="badge-status">SISTEMA_OPERATIVO</span>
    </div>
    
    <div class="row mb-4">
        <div class="col-md-3 mb-3">
            <div class="cyber-card neon-blue">
                <small class="label">VISTAS_TOTALES</small>
                <h2 class="value">1,254</h2>
                <small class="trend-up">â†‘ 12% RATE_UP</small>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="cyber-card neon-green">
                <small class="label">INGRESOS_ESTIMADOS</small>
                <h2 class="value">$42,800</h2>
                <small class="sub-label">3 PROPS_ACTIVE</small>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="cyber-card neon-yellow">
                <small class="label">MENSAJES_INBOX</small>
                <h2 class="value">18</h2>
                <small class="trend-warning">5 UNREAD_MSG</small>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="cyber-card neon-red">
                <small class="label">ANUNCIOS_VENCIDOS</small>
                <h2 class="value">0</h2>
                <small class="sub-label">CLEAN_STATUS</small>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-8 mb-4">
            <div class="cyber-card main-chart-box">
                <h6 class="label mb-4">RENDIMIENTO_SEMANAL (7D_SCAN)</h6>
                <div style="height: 300px;">
                    <canvas id="graficoVentas"></canvas>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="cyber-card activity-box">
                <h6 class="label mb-3">LOG_DE_ACTIVIDAD</h6>
                <ul class="activity-list">
                    <li><span class="tag green">VENDIDO</span> Hilux 2022 // 2h</li>
                    <li><span class="tag blue">MSG</span> Consulta Casa // 4h</li>
                    <li><span class="tag yellow">MILE</span> 500 Vistas Alcanzadas</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
    :root {
        --dark-bg: #0a0a0c;
        --card-bg: #121214;
        --neon-blue: #00f3ff;
        --neon-green: #39ff14;
        --neon-yellow: #fff01f;
        --neon-red: #ff0055;
    }

    body { background-color: var(--dark-bg) !important; color: #e0e0e0; }

    .cyber-title {
        color: var(--neon-blue);
        font-family: 'Orbitron', sans-serif;
        font-size: 1.2rem;
        text-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
    }

    .cyber-card {
        background: var(--card-bg);
        border: 1px solid #222;
        padding: 20px;
        position: relative;
        overflow: hidden;
        clip-path: polygon(0 0, 100% 0, 100% 85%, 92% 100%, 0 100%);
    }

    /* Variantes de Color Neon */
    .neon-blue { border-left: 4px solid var(--neon-blue); box-shadow: inset 5px 0 15px -5px rgba(0, 243, 255, 0.2); }
    .neon-green { border-left: 4px solid var(--neon-green); box-shadow: inset 5px 0 15px -5px rgba(57, 255, 20, 0.2); }
    .neon-yellow { border-left: 4px solid var(--neon-yellow); box-shadow: inset 5px 0 15px -5px rgba(255, 240, 31, 0.2); }
    .neon-red { border-left: 4px solid var(--neon-red); box-shadow: inset 5px 0 15px -5px rgba(255, 0, 85, 0.2); }

    .label { font-family: 'Monospace'; font-size: 10px; color: #888; letter-spacing: 1px; display: block; }
    .value { font-family: 'Orbitron', sans-serif; font-weight: 900; margin: 5px 0; color: #fff; }
    
    .trend-up { color: var(--neon-green); font-size: 11px; }
    .trend-warning { color: var(--neon-yellow); font-size: 11px; }
    .sub-label { color: #555; font-size: 11px; }

    .activity-list { list-style: none; padding: 0; font-size: 12px; font-family: 'Monospace'; }
    .activity-list li { margin-bottom: 15px; color: #bbb; }
    .tag { padding: 2px 6px; border-radius: 3px; font-size: 9px; font-weight: bold; margin-right: 8px; }
    .tag.green { background: rgba(57, 255, 20, 0.1); color: var(--neon-green); border: 1px solid var(--neon-green); }
    .tag.blue { background: rgba(0, 243, 255, 0.1); color: var(--neon-blue); border: 1px solid var(--neon-blue); }
    .tag.yellow { background: rgba(255, 240, 31, 0.1); color: var(--neon-yellow); border: 1px solid var(--neon-yellow); }
</style>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const ctx = document.getElementById('graficoVentas').getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['LUN', 'MAR', 'MIE', 'JUE', 'VIE', 'SAB', 'DOM'],
            datasets: [{
                label: 'VISTAS',
                data: [120, 190, 300, 250, 400, 550, 620],
                borderColor: '#00f3ff',
                backgroundColor: 'rgba(0, 243, 255, 0.05)',
                fill: true,
                tension: 0.4,
                borderWidth: 2,
                pointBackgroundColor: '#00f3ff',
                pointRadius: 0,
                pointHoverRadius: 6
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
                y: { grid: { color: '#222' }, ticks: { color: '#555', font: { family: 'Monospace' } } },
                x: { grid: { display: false }, ticks: { color: '#555', font: { family: 'Monospace' } } }
            }
        }
    });
</script>
{% endblock %}
